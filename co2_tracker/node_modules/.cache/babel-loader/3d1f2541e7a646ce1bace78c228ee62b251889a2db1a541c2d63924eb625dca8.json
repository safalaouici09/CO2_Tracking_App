{"ast":null,"code":"var _jsxFileName = \"/home/safa/Bureau/saas app/co2-tracker/src/components/SuggestionBall.js\",\n  _s = $RefreshSig$();\n// src/components/SuggestionBall.js\nimport React, { useEffect, useState } from 'react';\nimport { getSuggestions } from '../utils/api'; // Ensure this API function is defined and imported\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SuggestionBall = () => {\n  _s();\n  const [suggestions, setSuggestions] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [position, setPosition] = useState({\n    top: 0,\n    left: 0\n  });\n  const fetchSuggestions = async () => {\n    const response = await getSuggestions();\n    setSuggestions(response.data);\n  };\n  const updatePosition = () => {\n    setPosition({\n      top: Math.random() * (window.innerHeight - 100),\n      // Adjust for larger ball size\n      left: Math.random() * (window.innerWidth - 100) // Adjust for larger ball size\n    });\n  };\n  const changeSuggestion = () => {\n    setCurrentIndex(prevIndex => (prevIndex + 1) % suggestions.length);\n    updatePosition(); // Update position on suggestion change\n  };\n  useEffect(() => {\n    fetchSuggestions();\n    const intervalId = setInterval(() => {\n      changeSuggestion();\n    }, 30000); // Change suggestion every 30 seconds\n\n    return () => clearInterval(intervalId); // Cleanup on unmount\n  }, [suggestions]);\n\n  // Run once to set initial suggestion and position\n  useEffect(() => {\n    if (suggestions.length > 0) {\n      updatePosition();\n    }\n  }, [suggestions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute bg-greenCustom text-white rounded-full w-40 h-40 flex items-center justify-center transition-transform\",\n    style: {\n      top: position.top,\n      left: position.left,\n      transition: 'top 2 s ease, left 2 s ease',\n      // Smooth movement\n      fontSize: '1rem',\n      padding: '10px'\n    },\n    children: suggestions.length > 0 ? suggestions[currentIndex] : 'Loading...'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(SuggestionBall, \"HpIiAgPfIXwCGqLOlDR7keKxdoA=\");\n_c = SuggestionBall;\nexport default SuggestionBall;\nvar _c;\n$RefreshReg$(_c, \"SuggestionBall\");","map":{"version":3,"names":["React","useEffect","useState","getSuggestions","jsxDEV","_jsxDEV","SuggestionBall","_s","suggestions","setSuggestions","currentIndex","setCurrentIndex","position","setPosition","top","left","fetchSuggestions","response","data","updatePosition","Math","random","window","innerHeight","innerWidth","changeSuggestion","prevIndex","length","intervalId","setInterval","clearInterval","className","style","transition","fontSize","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/safa/Bureau/saas app/co2-tracker/src/components/SuggestionBall.js"],"sourcesContent":["// src/components/SuggestionBall.js\nimport React, { useEffect, useState } from 'react';\nimport { getSuggestions } from '../utils/api'; // Ensure this API function is defined and imported\n\nconst SuggestionBall = () => {\n    const [suggestions, setSuggestions] = useState([]);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [position, setPosition] = useState({ top: 0, left: 0 });\n\n    const fetchSuggestions = async () => {\n        const response = await getSuggestions();\n        setSuggestions(response.data);\n    };\n\n    const updatePosition = () => {\n        setPosition({\n            top: Math.random() * (window.innerHeight - 100), // Adjust for larger ball size\n            left: Math.random() * (window.innerWidth - 100), // Adjust for larger ball size\n        });\n    };\n\n    const changeSuggestion = () => {\n        setCurrentIndex((prevIndex) => (prevIndex + 1) % suggestions.length);\n        updatePosition(); // Update position on suggestion change\n    };\n\n    useEffect(() => {\n        fetchSuggestions();\n        const intervalId = setInterval(() => {\n            changeSuggestion();\n        }, 30000); // Change suggestion every 30 seconds\n\n        return () => clearInterval(intervalId); // Cleanup on unmount\n    }, [suggestions]);\n\n    // Run once to set initial suggestion and position\n    useEffect(() => {\n        if (suggestions.length > 0) {\n            updatePosition();\n        }\n    }, [suggestions]);\n\n    return (\n        <div\n            className=\"absolute bg-greenCustom text-white rounded-full w-40 h-40 flex items-center justify-center transition-transform\"\n            style={{\n                top: position.top,\n                left: position.left,\n                transition: 'top 2 s ease, left 2 s ease', // Smooth movement\n                fontSize: '1rem',\n                padding: '10px'\n            }}\n        >\n            {suggestions.length > 0 ? suggestions[currentIndex] : 'Loading...'}\n        </div>\n    );\n};\n\nexport default SuggestionBall;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,cAAc,QAAQ,cAAc,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACQ,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC;IAAEY,GAAG,EAAE,CAAC;IAAEC,IAAI,EAAE;EAAE,CAAC,CAAC;EAE7D,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACjC,MAAMC,QAAQ,GAAG,MAAMd,cAAc,CAAC,CAAC;IACvCM,cAAc,CAACQ,QAAQ,CAACC,IAAI,CAAC;EACjC,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IACzBN,WAAW,CAAC;MACRC,GAAG,EAAEM,IAAI,CAACC,MAAM,CAAC,CAAC,IAAIC,MAAM,CAACC,WAAW,GAAG,GAAG,CAAC;MAAE;MACjDR,IAAI,EAAEK,IAAI,CAACC,MAAM,CAAC,CAAC,IAAIC,MAAM,CAACE,UAAU,GAAG,GAAG,CAAC,CAAE;IACrD,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC3Bd,eAAe,CAAEe,SAAS,IAAK,CAACA,SAAS,GAAG,CAAC,IAAIlB,WAAW,CAACmB,MAAM,CAAC;IACpER,cAAc,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC;EAEDlB,SAAS,CAAC,MAAM;IACZe,gBAAgB,CAAC,CAAC;IAClB,MAAMY,UAAU,GAAGC,WAAW,CAAC,MAAM;MACjCJ,gBAAgB,CAAC,CAAC;IACtB,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;;IAEX,OAAO,MAAMK,aAAa,CAACF,UAAU,CAAC,CAAC,CAAC;EAC5C,CAAC,EAAE,CAACpB,WAAW,CAAC,CAAC;;EAEjB;EACAP,SAAS,CAAC,MAAM;IACZ,IAAIO,WAAW,CAACmB,MAAM,GAAG,CAAC,EAAE;MACxBR,cAAc,CAAC,CAAC;IACpB;EACJ,CAAC,EAAE,CAACX,WAAW,CAAC,CAAC;EAEjB,oBACIH,OAAA;IACI0B,SAAS,EAAC,iHAAiH;IAC3HC,KAAK,EAAE;MACHlB,GAAG,EAAEF,QAAQ,CAACE,GAAG;MACjBC,IAAI,EAAEH,QAAQ,CAACG,IAAI;MACnBkB,UAAU,EAAE,6BAA6B;MAAE;MAC3CC,QAAQ,EAAE,MAAM;MAChBC,OAAO,EAAE;IACb,CAAE;IAAAC,QAAA,EAED5B,WAAW,CAACmB,MAAM,GAAG,CAAC,GAAGnB,WAAW,CAACE,YAAY,CAAC,GAAG;EAAY;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACjE,CAAC;AAEd,CAAC;AAACjC,EAAA,CApDID,cAAc;AAAAmC,EAAA,GAAdnC,cAAc;AAsDpB,eAAeA,cAAc;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}